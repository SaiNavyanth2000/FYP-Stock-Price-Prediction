{"ast":null,"code":"import { ref, watch, onBeforeUnmount } from 'vue';\nimport { listenOpts } from '../../utils/event.js';\nexport default function (props, configureScrollTarget) {\n  const localScrollTarget = ref(null);\n  let scrollFn;\n\n  function changeScrollEvent(scrollTarget, fn) {\n    const fnProp = `${fn !== void 0 ? 'add' : 'remove'}EventListener`;\n    const fnHandler = fn !== void 0 ? fn : scrollFn;\n\n    if (scrollTarget !== window) {\n      scrollTarget[fnProp]('scroll', fnHandler, listenOpts.passive);\n    }\n\n    window[fnProp]('scroll', fnHandler, listenOpts.passive);\n    scrollFn = fn;\n  }\n\n  function unconfigureScrollTarget() {\n    if (localScrollTarget.value !== null) {\n      changeScrollEvent(localScrollTarget.value);\n      localScrollTarget.value = null;\n    }\n  }\n\n  const noParentEventWatcher = watch(() => props.noParentEvent, () => {\n    if (localScrollTarget.value !== null) {\n      unconfigureScrollTarget();\n      configureScrollTarget();\n    }\n  });\n  onBeforeUnmount(noParentEventWatcher);\n  return {\n    localScrollTarget,\n    unconfigureScrollTarget,\n    changeScrollEvent\n  };\n}","map":{"version":3,"sources":["C:/Users/saina/OneDrive - City University of Hong Kong/Desktop/cityu/Cityu Year 4/FYP/code/frontend_sample2/node_modules/quasar/src/composables/private/use-scroll-target.js"],"names":["ref","watch","onBeforeUnmount","listenOpts","props","configureScrollTarget","localScrollTarget","scrollFn","changeScrollEvent","scrollTarget","fn","fnProp","fnHandler","window","passive","unconfigureScrollTarget","value","noParentEventWatcher","noParentEvent"],"mappings":"AAAA,SAASA,GAAT,EAAcC,KAAd,EAAqBC,eAArB,QAA4C,KAA5C;AAEA,SAASC,UAAT,QAA2B,sBAA3B;AAEA,eAAe,UACbC,KADa,EAEbC,qBAFa,EAGb;AACA,QAAMC,iBAAiB,GAAGN,GAAG,CAAC,IAAD,CAA7B;AACA,MAAIO,QAAJ;;AAEA,WAASC,iBAAT,CAA4BC,YAA5B,EAA0CC,EAA1C,EAA8C;AAC5C,UAAMC,MAAM,GAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,KAAhB,GAAwB,QAAU,eAArD;AACA,UAAME,SAAS,GAAGF,EAAE,KAAK,KAAK,CAAZ,GAAgBA,EAAhB,GAAqBH,QAAvC;;AAEA,QAAIE,YAAY,KAAKI,MAArB,EAA6B;AAC3BJ,MAAAA,YAAY,CAAEE,MAAF,CAAZ,CAAuB,QAAvB,EAAiCC,SAAjC,EAA4CT,UAAU,CAACW,OAAvD;AACD;;AAEDD,IAAAA,MAAM,CAAEF,MAAF,CAAN,CAAiB,QAAjB,EAA2BC,SAA3B,EAAsCT,UAAU,CAACW,OAAjD;AAEAP,IAAAA,QAAQ,GAAGG,EAAX;AACD;;AAED,WAASK,uBAAT,GAAoC;AAClC,QAAIT,iBAAiB,CAACU,KAAlB,KAA4B,IAAhC,EAAsC;AACpCR,MAAAA,iBAAiB,CAACF,iBAAiB,CAACU,KAAnB,CAAjB;AACAV,MAAAA,iBAAiB,CAACU,KAAlB,GAA0B,IAA1B;AACD;AACF;;AAED,QAAMC,oBAAoB,GAAGhB,KAAK,CAAC,MAAMG,KAAK,CAACc,aAAb,EAA4B,MAAM;AAClE,QAAIZ,iBAAiB,CAACU,KAAlB,KAA4B,IAAhC,EAAsC;AACpCD,MAAAA,uBAAuB;AACvBV,MAAAA,qBAAqB;AACtB;AACF,GALiC,CAAlC;AAOAH,EAAAA,eAAe,CAACe,oBAAD,CAAf;AAEA,SAAO;AACLX,IAAAA,iBADK;AAELS,IAAAA,uBAFK;AAGLP,IAAAA;AAHK,GAAP;AAKD","sourcesContent":["import { ref, watch, onBeforeUnmount } from 'vue'\n\nimport { listenOpts } from '../../utils/event.js'\n\nexport default function (\n  props,\n  configureScrollTarget\n) {\n  const localScrollTarget = ref(null)\n  let scrollFn\n\n  function changeScrollEvent (scrollTarget, fn) {\n    const fnProp = `${ fn !== void 0 ? 'add' : 'remove' }EventListener`\n    const fnHandler = fn !== void 0 ? fn : scrollFn\n\n    if (scrollTarget !== window) {\n      scrollTarget[ fnProp ]('scroll', fnHandler, listenOpts.passive)\n    }\n\n    window[ fnProp ]('scroll', fnHandler, listenOpts.passive)\n\n    scrollFn = fn\n  }\n\n  function unconfigureScrollTarget () {\n    if (localScrollTarget.value !== null) {\n      changeScrollEvent(localScrollTarget.value)\n      localScrollTarget.value = null\n    }\n  }\n\n  const noParentEventWatcher = watch(() => props.noParentEvent, () => {\n    if (localScrollTarget.value !== null) {\n      unconfigureScrollTarget()\n      configureScrollTarget()\n    }\n  })\n\n  onBeforeUnmount(noParentEventWatcher)\n\n  return {\n    localScrollTarget,\n    unconfigureScrollTarget,\n    changeScrollEvent\n  }\n}\n"]},"metadata":{},"sourceType":"module"}