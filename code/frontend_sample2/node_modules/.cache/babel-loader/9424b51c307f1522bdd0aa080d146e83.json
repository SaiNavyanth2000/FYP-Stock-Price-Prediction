{"ast":null,"code":"import { h, ref, computed, watch, onBeforeUnmount, inject, getCurrentInstance } from 'vue';\nimport QResizeObserver from '../resize-observer/QResizeObserver.js';\nimport { createComponent } from '../../utils/private/create.js';\nimport { hUniqueSlot } from '../../utils/private/render.js';\nimport { layoutKey } from '../../utils/private/symbols.js';\nexport default createComponent({\n  name: 'QHeader',\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: true\n    },\n    reveal: Boolean,\n    revealOffset: {\n      type: Number,\n      default: 250\n    },\n    bordered: Boolean,\n    elevated: Boolean,\n    heightHint: {\n      type: [String, Number],\n      default: 50\n    }\n  },\n  emits: ['reveal', 'focusin'],\n\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const {\n      proxy: {\n        $q\n      }\n    } = getCurrentInstance();\n    const $layout = inject(layoutKey, () => {\n      console.error('QHeader needs to be child of QLayout');\n    });\n    const size = ref(parseInt(props.heightHint, 10));\n    const revealed = ref(true);\n    const fixed = computed(() => props.reveal === true || $layout.view.value.indexOf('H') > -1 || $q.platform.is.ios && $layout.isContainer.value === true);\n    const offset = computed(() => {\n      if (props.modelValue !== true) {\n        return 0;\n      }\n\n      if (fixed.value === true) {\n        return revealed.value === true ? size.value : 0;\n      }\n\n      const offset = size.value - $layout.scroll.value.position;\n      return offset > 0 ? offset : 0;\n    });\n    const hidden = computed(() => props.modelValue !== true || fixed.value === true && revealed.value !== true);\n    const revealOnFocus = computed(() => props.modelValue === true && hidden.value === true && props.reveal === true);\n    const classes = computed(() => 'q-header q-layout__section--marginal ' + (fixed.value === true ? 'fixed' : 'absolute') + '-top' + (props.bordered === true ? ' q-header--bordered' : '') + (hidden.value === true ? ' q-header--hidden' : '') + (props.modelValue !== true ? ' q-layout--prevent-focus' : ''));\n    const style = computed(() => {\n      const view = $layout.rows.value.top,\n            css = {};\n\n      if (view[0] === 'l' && $layout.left.space === true) {\n        css[$q.lang.rtl === true ? 'right' : 'left'] = `${$layout.left.size}px`;\n      }\n\n      if (view[2] === 'r' && $layout.right.space === true) {\n        css[$q.lang.rtl === true ? 'left' : 'right'] = `${$layout.right.size}px`;\n      }\n\n      return css;\n    });\n\n    function updateLayout(prop, val) {\n      $layout.update('header', prop, val);\n    }\n\n    function updateLocal(prop, val) {\n      if (prop.value !== val) {\n        prop.value = val;\n      }\n    }\n\n    function onResize({\n      height\n    }) {\n      updateLocal(size, height);\n      updateLayout('size', height);\n    }\n\n    function onFocusin(evt) {\n      if (revealOnFocus.value === true) {\n        updateLocal(revealed, true);\n      }\n\n      emit('focusin', evt);\n    }\n\n    watch(() => props.modelValue, val => {\n      updateLayout('space', val);\n      updateLocal(revealed, true);\n      $layout.animate();\n    });\n    watch(offset, val => {\n      updateLayout('offset', val);\n    });\n    watch(() => props.reveal, val => {\n      val === false && updateLocal(revealed, props.modelValue);\n    });\n    watch(revealed, val => {\n      $layout.animate();\n      emit('reveal', val);\n    });\n    watch($layout.scroll, scroll => {\n      props.reveal === true && updateLocal(revealed, scroll.direction === 'up' || scroll.position <= props.revealOffset || scroll.position - scroll.inflectionPoint < 100);\n    });\n    const instance = {};\n    $layout.instances.header = instance;\n    props.modelValue === true && updateLayout('size', size.value);\n    updateLayout('space', props.modelValue);\n    updateLayout('offset', offset.value);\n    onBeforeUnmount(() => {\n      if ($layout.instances.header === instance) {\n        $layout.instances.header = void 0;\n        updateLayout('size', 0);\n        updateLayout('offset', 0);\n        updateLayout('space', false);\n      }\n    });\n    return () => {\n      const child = hUniqueSlot(slots.default, []);\n      props.elevated === true && child.push(h('div', {\n        class: 'q-layout__shadow absolute-full overflow-hidden no-pointer-events'\n      }));\n      child.push(h(QResizeObserver, {\n        debounce: 0,\n        onResize\n      }));\n      return h('header', {\n        class: classes.value,\n        style: style.value,\n        onFocusin\n      }, child);\n    };\n  }\n\n});","map":{"version":3,"sources":["C:/Users/saina/OneDrive - City University of Hong Kong/Desktop/cityu/Cityu Year 4/FYP/code/frontend_sample2/node_modules/quasar/src/components/header/QHeader.js"],"names":["h","ref","computed","watch","onBeforeUnmount","inject","getCurrentInstance","QResizeObserver","createComponent","hUniqueSlot","layoutKey","name","props","modelValue","type","Boolean","default","reveal","revealOffset","Number","bordered","elevated","heightHint","String","emits","setup","slots","emit","proxy","$q","$layout","console","error","size","parseInt","revealed","fixed","view","value","indexOf","platform","is","ios","isContainer","offset","scroll","position","hidden","revealOnFocus","classes","style","rows","top","css","left","space","lang","rtl","right","updateLayout","prop","val","update","updateLocal","onResize","height","onFocusin","evt","animate","direction","inflectionPoint","instance","instances","header","child","push","class","debounce"],"mappings":"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","sourcesContent":["import { h, ref, computed, watch, onBeforeUnmount, inject, getCurrentInstance } from 'vue'\n\nimport QResizeObserver from '../resize-observer/QResizeObserver.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { hUniqueSlot } from '../../utils/private/render.js'\nimport { layoutKey } from '../../utils/private/symbols.js'\n\nexport default createComponent({\n  name: 'QHeader',\n\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: true\n    },\n    reveal: Boolean,\n    revealOffset: {\n      type: Number,\n      default: 250\n    },\n    bordered: Boolean,\n    elevated: Boolean,\n\n    heightHint: {\n      type: [ String, Number ],\n      default: 50\n    }\n  },\n\n  emits: [ 'reveal', 'focusin' ],\n\n  setup (props, { slots, emit }) {\n    const { proxy: { $q } } = getCurrentInstance()\n\n    const $layout = inject(layoutKey, () => {\n      console.error('QHeader needs to be child of QLayout')\n    })\n\n    const size = ref(parseInt(props.heightHint, 10))\n    const revealed = ref(true)\n\n    const fixed = computed(() =>\n      props.reveal === true\n      || $layout.view.value.indexOf('H') > -1\n      || ($q.platform.is.ios && $layout.isContainer.value === true)\n    )\n\n    const offset = computed(() => {\n      if (props.modelValue !== true) {\n        return 0\n      }\n      if (fixed.value === true) {\n        return revealed.value === true ? size.value : 0\n      }\n      const offset = size.value - $layout.scroll.value.position\n      return offset > 0 ? offset : 0\n    })\n\n    const hidden = computed(() => props.modelValue !== true\n      || (fixed.value === true && revealed.value !== true)\n    )\n\n    const revealOnFocus = computed(() =>\n      props.modelValue === true && hidden.value === true && props.reveal === true\n    )\n\n    const classes = computed(() =>\n      'q-header q-layout__section--marginal '\n      + (fixed.value === true ? 'fixed' : 'absolute') + '-top'\n      + (props.bordered === true ? ' q-header--bordered' : '')\n      + (hidden.value === true ? ' q-header--hidden' : '')\n      + (props.modelValue !== true ? ' q-layout--prevent-focus' : '')\n    )\n\n    const style = computed(() => {\n      const\n        view = $layout.rows.value.top,\n        css = {}\n\n      if (view[ 0 ] === 'l' && $layout.left.space === true) {\n        css[ $q.lang.rtl === true ? 'right' : 'left' ] = `${ $layout.left.size }px`\n      }\n      if (view[ 2 ] === 'r' && $layout.right.space === true) {\n        css[ $q.lang.rtl === true ? 'left' : 'right' ] = `${ $layout.right.size }px`\n      }\n\n      return css\n    })\n\n    function updateLayout (prop, val) {\n      $layout.update('header', prop, val)\n    }\n\n    function updateLocal (prop, val) {\n      if (prop.value !== val) {\n        prop.value = val\n      }\n    }\n\n    function onResize ({ height }) {\n      updateLocal(size, height)\n      updateLayout('size', height)\n    }\n\n    function onFocusin (evt) {\n      if (revealOnFocus.value === true) {\n        updateLocal(revealed, true)\n      }\n\n      emit('focusin', evt)\n    }\n\n    watch(() => props.modelValue, val => {\n      updateLayout('space', val)\n      updateLocal(revealed, true)\n      $layout.animate()\n    })\n\n    watch(offset, val => {\n      updateLayout('offset', val)\n    })\n\n    watch(() => props.reveal, val => {\n      val === false && updateLocal(revealed, props.modelValue)\n    })\n\n    watch(revealed, val => {\n      $layout.animate()\n      emit('reveal', val)\n    })\n\n    watch($layout.scroll, scroll => {\n      props.reveal === true && updateLocal(revealed,\n        scroll.direction === 'up'\n        || scroll.position <= props.revealOffset\n        || scroll.position - scroll.inflectionPoint < 100\n      )\n    })\n\n    const instance = {}\n\n    $layout.instances.header = instance\n    props.modelValue === true && updateLayout('size', size.value)\n    updateLayout('space', props.modelValue)\n    updateLayout('offset', offset.value)\n\n    onBeforeUnmount(() => {\n      if ($layout.instances.header === instance) {\n        $layout.instances.header = void 0\n        updateLayout('size', 0)\n        updateLayout('offset', 0)\n        updateLayout('space', false)\n      }\n    })\n\n    return () => {\n      const child = hUniqueSlot(slots.default, [])\n\n      props.elevated === true && child.push(\n        h('div', {\n          class: 'q-layout__shadow absolute-full overflow-hidden no-pointer-events'\n        })\n      )\n\n      child.push(\n        h(QResizeObserver, {\n          debounce: 0,\n          onResize\n        })\n      )\n\n      return h('header', {\n        class: classes.value,\n        style: style.value,\n        onFocusin\n      }, child)\n    }\n  }\n})\n"]},"metadata":{},"sourceType":"module"}