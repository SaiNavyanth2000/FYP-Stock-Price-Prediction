{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, resolveDynamicComponent as _resolveDynamicComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode, withCtx as _withCtx, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  id: \"container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  class: \"row\",\n  style: {\n    \"padding\": \"2vw\"\n  }\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"col-6\"\n};\nconst _hoisted_6 = {\n  class: \"row\",\n  style: {\n    \"max-width\": \"100%\"\n  }\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  class: \"row\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_13 = {\n  key: 0,\n  class: \"col-2\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  style: {\n    \"margin-left\": \"0\"\n  }\n}, \"Select which model you would want to run your code on:\", -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_23 = {\n  key: 0,\n  style: {\n    \"margin-left\": \"0\"\n  }\n};\n\nconst _hoisted_24 = /*#__PURE__*/_createTextVNode(\"Back \");\n\nconst _hoisted_25 = {\n  key: 1,\n  class: \"d-flex justify-content-center mb-3\"\n};\n\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Chart = _resolveComponent(\"Chart\");\n\n  const _component_b_form_select = _resolveComponent(\"b-form-select\");\n\n  const _component_b_button = _resolveComponent(\"b-button\");\n\n  const _component_b_spinner = _resolveComponent(\"b-spinner\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" https://stackoverflow.com/questions/11895476/bootstrap-element-100-width \"), _createElementVNode(\"div\", _hoisted_1, [!$data.loading ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_2, \"Stock Price Prediction\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [!$data.loading ? (_openBlock(), _createBlock(_component_Chart, {\n    key: 0,\n    chartData: $options.stockData\n  }, null, 8\n  /* PROPS */\n  , [\"chartData\"])) : _createCommentVNode(\"v-if\", true)]), _hoisted_7, _hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _hoisted_11, _hoisted_12, _createCommentVNode(\" <MultiLstm v-if=\\\"!loading\\\" :stockdata=\\\"past50days\\\" />\\n          <customANN v-if=\\\"!loading\\\" :stockdata=\\\"past50days\\\" />\\n          <lstm v-if=\\\"!loading\\\" :stockdata=\\\"past50days\\\" /> \"), !$data.loading ? (_openBlock(), _createBlock(_resolveDynamicComponent($data.model_type), {\n    key: 0,\n    stockdata: $data.past50days\n  }, null, 8\n  /* PROPS */\n  , [\"stockdata\"])) : _createCommentVNode(\"v-if\", true)])]), !$data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_hoisted_14, _createVNode(_component_b_form_select, {\n    modelValue: $data.model_type,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.model_type = $event),\n    options: $data.options,\n    size: \"lg\",\n    class: \"mt-3\",\n    placeholder: \"Select one model\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"options\"]), _hoisted_15, _hoisted_16, _hoisted_17, _hoisted_18, _hoisted_19, _hoisted_20, _hoisted_21, _hoisted_22, !$data.loading ? (_openBlock(), _createElementBlock(\"h4\", _hoisted_23, [_createTextVNode(\" The predicted price of \" + _toDisplayString($data.selected) + \" for tomorrow is: \", 1\n  /* TEXT */\n  ), _createElementVNode(\"span\", {\n    id: \"prediction\",\n    style: _normalizeStyle(`color:${$data.color}`)\n  }, \" $\" + _toDisplayString($data.prediction), 5\n  /* TEXT, STYLE */\n  )])) : _createCommentVNode(\"v-if\", true), !$data.loading ? (_openBlock(), _createBlock(_component_b_button, {\n    key: 1,\n    onClick: $options.back,\n    id: \"button-2\",\n    style: {\n      \"margin-left\": \"10\"\n    },\n    type: \"button\",\n    variant: \"dark\"\n  }, {\n    default: _withCtx(() => [_hoisted_24]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"onClick\"])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [$data.loading ? (_openBlock(), _createBlock(_component_b_spinner, {\n    key: 0,\n    class: \"m-50 flex flex-center\"\n  })) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _hoisted_26])])], 2112\n  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;AAEOA,IAAE,EAAC;;;;;;AAEDC,OAAK,EAAC;AAAMC,OAAoB,EAApB;AAAA;AAAA;;;gCACfC,oBAAyB,KAAzB,EAAyB;AAApBF,OAAK,EAAC;AAAc,CAAzB,EAAkB,IAAlB,EAAkB;AAAA;AAAlB;;;AACKA,OAAK,EAAC;;;AACJA,OAAK,EAAC;AAAMC,OAAuB,EAAvB;AAAA;AAAA;;;gCAGjBC,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;gCAAMA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;;AACDF,OAAK,EAAC;;;iCACTE,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;iCACAA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;iCACAA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;;;AAQCF,OAAK,EAAC;;;iCACTE,oBAAsF,IAAtF,EAAsF;AAAlFD,OAAsB,EAAtB;AAAA;AAAA;AAAkF,CAAtF,EAA2B,wDAA3B,EAAiF;AAAA;AAAjF;;iCASAC,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;iCAAMA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;iCAAMA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;iCAAMA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;iCAAMA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;iCAAMA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;iCAAMA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;iCAAMA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;;;AACtBD,OAAsB,EAAtB;AAAA;AAAA;;;kDAWjB;;;;AAGeD,OAAK,EAAC;;;iCAG1BE,oBAAyB,KAAzB,EAAyB;AAApBF,OAAK,EAAC;AAAc,CAAzB,EAAkB,IAAlB,EAAkB;AAAA;AAAlB;;;;;;;;;;;6DAjDJG,mGACAD,oBAkDM,KAlDN,cAkDM,EAjDOE,+BAAXC,oBAA+C,IAA/C,EAA+CC,UAA/C,EAAoB,wBAApB,sCAiDI,EAhDJJ,oBA+CM,KA/CN,cA+CM,CA9CJK,UA8CI,EA7CJL,oBAcM,KAdN,cAcM,CAbJA,oBAEM,KAFN,cAEM,EADUE,+BAAdI,aAAgDC,gBAAhD,EAAgD;UAAA;AAAxBC,aAAS,EAAEC;AAAa,GAAhD;;AAAA,uDACI,CAFN,CAaI,EAVJC,UAUI,EAVEC,UAUF,EATJX,oBAQM,KARN,cAQM,CAPJY,WAOI,EANJC,WAMI,EALJC,WAKI,EAJJb,uNAII,GAD+BC,+BAAnCI,aAAgFS,yBAAhEb,gBAAgE,CAAhF,EAA0B;UAAA;AAAmBc,aAAS,EAAEd;AAA9B,GAA1B;;AAAA,uDACI,CARN,CASI,CAdN,CA6CI,GA7BsBA,+BAA1BC,oBAwBM,KAxBN,eAwBM,CAvBJc,WAuBI,EAtBJC,aAMiBC,wBANjB,EAMiB;gBALNjB,gBAKM;+DALNA,mBAAUkB,OAKJ;AAJdC,WAAO,EAAEnB,aAIK;AAHfoB,QAAI,EAAC,IAGU;AAFfxB,SAAK,EAAC,MAES;AADfyB,eAAW,EAAC;AACG,GANjB;;AAAA,8BAsBI,EAdJC,WAcI,EAdEC,WAcF,EAdQC,WAcR,EAdcC,WAcd,EAdoBC,WAcpB,EAd0BC,WAc1B,EAdgCC,WAchC,EAdsCC,WActC,GAbO7B,+BAAXC,oBAGK,IAHL,eAGK,kBAHsC,6BAClB6B,iBAAG9B,cAAH,CADkB,GACJ,sBACrC;AAAA;GACG,EADHF,oBAAyE,MAAzE,EAAyE;AAAnEH,MAAE,EAAC,YAAgE;AAAlDE,SAAK,2BAAWG,WAAK,EAAhB;AAA6C,GAAzE,EAAgD,OAAE8B,iBAAG9B,gBAAH,CAAlD,EAA+D;AAAA;AAA/D,GACG,CAHL,sCAaI,GARKA,+BADTI,aAQW2B,mBARX,EAQW;UAAA;AANRC,WAAK,EAAEzB,aAMC;AALTZ,MAAE,EAAC,UAKM;AAJTE,SAAuB,EAAvB;AAAA;AAAA,KAIS;AAHToC,QAAI,EAAC,QAGI;AAFTC,WAAO,EAAC;AAEC,GARX;sBAOG,MACH;;;;GARA;;AAAA,qDASI,CAxBN,sCA6BI,EAJOlC,+BAAXC,oBAEM,KAFN,eAEM,CADaD,+BAAjBI,aAAoE+B,oBAApE,EAAoE;UAAA;AAA1CvC,SAAK,EAAC;AAAoC,GAApE,sCACI,CAFN,sCAII,EADJwC,WACI,CA/CN,CAgDI,CAlDN","names":["id","class","style","_createElementVNode","_createCommentVNode","$data","_createElementBlock","_hoisted_2","_hoisted_4","_createBlock","_component_Chart","chartData","$options","_hoisted_7","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_12","_resolveDynamicComponent","stockdata","_hoisted_14","_createVNode","_component_b_form_select","$event","options","size","placeholder","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_toDisplayString","_component_b_button","onClick","type","variant","_component_b_spinner","_hoisted_26"],"sourceRoot":"","sources":["C:\\Users\\saina\\OneDrive - City University of Hong Kong\\Desktop\\cityu\\Cityu Year 4\\FYP\\code\\frontend_sample2\\src\\components\\PredictPrice.vue"],"sourcesContent":["<template>\n  <!-- https://stackoverflow.com/questions/11895476/bootstrap-element-100-width -->\n  <div id=\"container\">\n    <h3 v-if=\"!loading\">Stock Price Prediction</h3>\n    <div class=\"row\" style=\"padding: 2vw\">\n      <div class=\"col-2\"></div>\n      <div class=\"col-6\">\n        <div class=\"row\" style=\"max-width: 100%\">\n          <Chart v-if=\"!loading\" :chartData=\"stockData\" />\n        </div>\n        <br /><br />\n        <div class=\"row\">\n          <br />\n          <br />\n          <br />\n          <!-- <MultiLstm v-if=\"!loading\" :stockdata=\"past50days\" />\n          <customANN v-if=\"!loading\" :stockdata=\"past50days\" />\n          <lstm v-if=\"!loading\" :stockdata=\"past50days\" /> -->\n          <component :is=\"model_type\" v-if=\"!loading\" :stockdata=\"past50days\"></component>\n        </div>\n      </div>\n\n      <div class=\"col-2\" v-if=\"!loading\">\n        <h4 style=\"margin-left: 0\">Select which model you would want to run your code on:</h4>\n        <b-form-select\n          v-model=\"model_type\"\n          :options=\"options\"\n          size=\"lg\"\n          class=\"mt-3\"\n          placeholder=\"Select one model\"\n        ></b-form-select>\n\n        <br /><br /><br /><br /><br /><br /><br /><br />\n        <h4 v-if=\"!loading\" style=\"margin-left: 0\">\n          The predicted price of {{ selected }} for tomorrow is:\n          <span id=\"prediction\" :style=\"`color:${color}`\"> ${{ prediction }}</span>\n        </h4>\n        <b-button\n          v-if=\"!loading\"\n          @click=\"back\"\n          id=\"button-2\"\n          style=\"margin-left: 10\"\n          type=\"button\"\n          variant=\"dark\"\n          >Back\n        </b-button>\n      </div>\n      <div v-if=\"loading\" class=\"d-flex justify-content-center mb-3\">\n        <b-spinner v-if=\"loading\" class=\"m-50 flex flex-center\"></b-spinner>\n      </div>\n      <div class=\"col-2\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Chart from './ChartHelper.vue';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\nimport MultiLstm from './MultiLstm.vue';\nimport lstm from './LSModel.vue';\nimport customANN from './customANN.vue';\n\nexport default {\n  components: {\n    Chart,\n    MultiLstm,\n    customANN,\n    lstm,\n  },\n  data() {\n    return {\n      selected: this.$router.currentRoute.params.selected,\n      model_type: 'lstm',\n      prediction: null,\n      stockPrice: null,\n      previousDayPrice: null,\n      past50days: null,\n      color: null,\n      loading: true,\n      months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'],\n      options: [\n        { value: 'lstm', text: 'LSTM' },\n        { value: 'customANN', text: 'Custom ANN' },\n        { value: 'MultiLstm', text: 'Multivariate LSTM' },\n      ],\n    };\n  },\n  methods: {\n    back() {\n      this.$router.push('/');\n    },\n    async getData() {\n      const path = 'http://127.0.0.1:5000/predict';\n      console.log(path, this.selected);\n      axios\n        .get(path, {\n          params: {\n            ticker: this.selected,\n            model_type: this.model_type,\n          },\n        })\n        .then((response) => {\n          this.loading = false;\n          this.stockPrice = response;\n          console.log(this.prediction, this.stockPrice);\n          this.prediction = this.stockPrice.data.prediction_value;\n          console.log(this.prediction);\n          this.past50days = JSON.parse(this.stockPrice.data.past_50_days);\n          console.log('past 50 days data');\n          console.log(this.past50days);\n          // console.log(Object.values(this.past50days['Adj Close']));\n          const array = Object.values(JSON.parse(this.stockPrice.data.past_50_days));\n          console.log(this.previousDayPrice, array);\n          this.previousDayPrice = array[array.length - 1];\n          console.log(this.previousDayPrice);\n\n          if (this.previousDayPrice > this.prediction) {\n            this.color = 'red';\n            console.log(this.color);\n          } else {\n            this.color = 'green';\n            console.log(this.color);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      // this.$router.push('/predict');\n    },\n  },\n  computed: {\n    stockData() {\n      return {\n        // converted date string in the right format this way: https://www.codegrepper.com/code-examples/javascript/convert+timestamp+to+dd%2Fmm%2Fyyyy+in+javascript\n        labels: Object.keys(JSON.parse(this.stockPrice.data.past_50_days))\n          .map((a) => new Date(a / 1))\n          .map((a) => `${a.getDate()} ${this.months[a.getMonth()]} ${a.getFullYear()}`),\n        datasets: [\n          {\n            label: `Price of ${this.selected}`,\n            // backgroundColor: '#f87979',\n            data: Object.values(JSON.parse(this.stockPrice.data.past_50_days)),\n            backgroundColor: '#5a96ee',\n            borderColor: 'white',\n          },\n        ],\n      };\n    },\n  },\n  watch: {\n    model_type() {\n      this.loading = true;\n      this.getData();\n      // this.loading = false\n    },\n  },\n  async created() {\n    await this.getData();\n  },\n};\n</script>\n<style>\n#button-2 {\n  margin-left: 0%;\n  margin-top: 1%;\n}\n#container {\n  margin: 2vw;\n}\nh3 {\n  font-family: sohne, 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-weight: '800';\n}\n#chart {\n  text-align: right;\n  border: 'solid red 1px';\n}\nh4,\np,\nspan {\n  font-family: 'Castoro', serif;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}