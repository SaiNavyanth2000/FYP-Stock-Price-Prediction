{"ast":null,"code":"import Platform from '../plugins/Platform.js';\nimport { noop } from '../utils/event.js';\n\nfunction parseFeatures(winFeatures) {\n  const cfg = Object.assign({\n    noopener: true\n  }, winFeatures);\n  const feat = [];\n\n  for (const key in cfg) {\n    if (cfg[key] === true) {\n      feat.push(key);\n    }\n  }\n\n  return feat.join(',');\n}\n\nfunction openWindow(url, reject, windowFeatures) {\n  let open = window.open;\n\n  if (Platform.is.cordova === true) {\n    if (cordova !== void 0 && cordova.InAppBrowser !== void 0 && cordova.InAppBrowser.open !== void 0) {\n      open = cordova.InAppBrowser.open;\n    } else if (navigator !== void 0 && navigator.app !== void 0) {\n      return navigator.app.loadUrl(url, {\n        openExternal: true\n      });\n    }\n  }\n\n  const win = open(url, '_blank', parseFeatures(windowFeatures));\n\n  if (win) {\n    Platform.is.desktop && win.focus();\n    return win;\n  } else {\n    reject && reject();\n  }\n}\n\nexport default ((url, reject, windowFeatures) => {\n  if (Platform.is.ios === true && window.SafariViewController !== void 0) {\n    window.SafariViewController.isAvailable(available => {\n      if (available) {\n        window.SafariViewController.show({\n          url\n        }, noop, reject);\n      } else {\n        openWindow(url, reject, windowFeatures);\n      }\n    });\n    return;\n  }\n\n  return openWindow(url, reject, windowFeatures);\n});","map":{"version":3,"sources":["C:/Users/saina/OneDrive - City University of Hong Kong/Desktop/cityu/Cityu Year 4/FYP/code/frontend_sample2/node_modules/quasar/src/utils/open-url.js"],"names":["Platform","noop","parseFeatures","winFeatures","cfg","Object","assign","noopener","feat","key","push","join","openWindow","url","reject","windowFeatures","open","window","is","cordova","InAppBrowser","navigator","app","loadUrl","openExternal","win","desktop","focus","ios","SafariViewController","isAvailable","available","show"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,wBAArB;AAEA,SAASC,IAAT,QAAqB,mBAArB;;AAEA,SAASC,aAAT,CAAwBC,WAAxB,EAAqC;AACnC,QAAMC,GAAG,GAAGC,MAAM,CAACC,MAAP,CAAc;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAd,EAAkCJ,WAAlC,CAAZ;AACA,QAAMK,IAAI,GAAG,EAAb;;AACA,OAAK,MAAMC,GAAX,IAAkBL,GAAlB,EAAuB;AACrB,QAAIA,GAAG,CAAEK,GAAF,CAAH,KAAe,IAAnB,EAAyB;AACvBD,MAAAA,IAAI,CAACE,IAAL,CAAUD,GAAV;AACD;AACF;;AACD,SAAOD,IAAI,CAACG,IAAL,CAAU,GAAV,CAAP;AACD;;AAED,SAASC,UAAT,CAAqBC,GAArB,EAA0BC,MAA1B,EAAkCC,cAAlC,EAAkD;AAChD,MAAIC,IAAI,GAAGC,MAAM,CAACD,IAAlB;;AAEA,MAAIhB,QAAQ,CAACkB,EAAT,CAAYC,OAAZ,KAAwB,IAA5B,EAAkC;AAChC,QAAIA,OAAO,KAAK,KAAK,CAAjB,IAAsBA,OAAO,CAACC,YAAR,KAAyB,KAAK,CAApD,IAAyDD,OAAO,CAACC,YAAR,CAAqBJ,IAArB,KAA8B,KAAK,CAAhG,EAAmG;AACjGA,MAAAA,IAAI,GAAGG,OAAO,CAACC,YAAR,CAAqBJ,IAA5B;AACD,KAFD,MAGK,IAAIK,SAAS,KAAK,KAAK,CAAnB,IAAwBA,SAAS,CAACC,GAAV,KAAkB,KAAK,CAAnD,EAAsD;AACzD,aAAOD,SAAS,CAACC,GAAV,CAAcC,OAAd,CAAsBV,GAAtB,EAA2B;AAChCW,QAAAA,YAAY,EAAE;AADkB,OAA3B,CAAP;AAGD;AACF;;AAED,QAAMC,GAAG,GAAGT,IAAI,CAACH,GAAD,EAAM,QAAN,EAAgBX,aAAa,CAACa,cAAD,CAA7B,CAAhB;;AAEA,MAAIU,GAAJ,EAAS;AACPzB,IAAAA,QAAQ,CAACkB,EAAT,CAAYQ,OAAZ,IAAuBD,GAAG,CAACE,KAAJ,EAAvB;AACA,WAAOF,GAAP;AACD,GAHD,MAIK;AACHX,IAAAA,MAAM,IAAIA,MAAM,EAAhB;AACD;AACF;;AAED,gBAAe,CAACD,GAAD,EAAMC,MAAN,EAAcC,cAAd,KAAiC;AAC9C,MACEf,QAAQ,CAACkB,EAAT,CAAYU,GAAZ,KAAoB,IAApB,IACGX,MAAM,CAACY,oBAAP,KAAgC,KAAK,CAF1C,EAGE;AACAZ,IAAAA,MAAM,CAACY,oBAAP,CAA4BC,WAA5B,CAAwCC,SAAS,IAAI;AACnD,UAAIA,SAAJ,EAAe;AACbd,QAAAA,MAAM,CAACY,oBAAP,CAA4BG,IAA5B,CACE;AAAEnB,UAAAA;AAAF,SADF,EAEEZ,IAFF,EAGEa,MAHF;AAKD,OAND,MAOK;AACHF,QAAAA,UAAU,CAACC,GAAD,EAAMC,MAAN,EAAcC,cAAd,CAAV;AACD;AACF,KAXD;AAYA;AACD;;AAED,SAAOH,UAAU,CAACC,GAAD,EAAMC,MAAN,EAAcC,cAAd,CAAjB;AACD,CArBD","sourcesContent":["import Platform from '../plugins/Platform.js'\n\nimport { noop } from '../utils/event.js'\n\nfunction parseFeatures (winFeatures) {\n  const cfg = Object.assign({ noopener: true }, winFeatures)\n  const feat = []\n  for (const key in cfg) {\n    if (cfg[ key ] === true) {\n      feat.push(key)\n    }\n  }\n  return feat.join(',')\n}\n\nfunction openWindow (url, reject, windowFeatures) {\n  let open = window.open\n\n  if (Platform.is.cordova === true) {\n    if (cordova !== void 0 && cordova.InAppBrowser !== void 0 && cordova.InAppBrowser.open !== void 0) {\n      open = cordova.InAppBrowser.open\n    }\n    else if (navigator !== void 0 && navigator.app !== void 0) {\n      return navigator.app.loadUrl(url, {\n        openExternal: true\n      })\n    }\n  }\n\n  const win = open(url, '_blank', parseFeatures(windowFeatures))\n\n  if (win) {\n    Platform.is.desktop && win.focus()\n    return win\n  }\n  else {\n    reject && reject()\n  }\n}\n\nexport default (url, reject, windowFeatures) => {\n  if (\n    Platform.is.ios === true\n    && window.SafariViewController !== void 0\n  ) {\n    window.SafariViewController.isAvailable(available => {\n      if (available) {\n        window.SafariViewController.show(\n          { url },\n          noop,\n          reject\n        )\n      }\n      else {\n        openWindow(url, reject, windowFeatures)\n      }\n    })\n    return\n  }\n\n  return openWindow(url, reject, windowFeatures)\n}\n"]},"metadata":{},"sourceType":"module"}